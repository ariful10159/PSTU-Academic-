ржПржХржжржо ржарж┐ржХ ЁЯСМ рждрзБржорж┐ ржПржЦржи ржкрж░рзНржпржирзНржд ржпрзЗржЯрзБржХрзБ рж╢рж┐ржЦрзЗржЫрзЛ, рж╕рзЗржЯрж╛ ржЖржорж┐ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ **рж╕ржВржХрзНрж╖рж┐ржкрзНржд ржирзЛржЯ ржЖржХрж╛рж░рзЗ** рж╕рж╛ржЬрж┐ржпрж╝рзЗ ржжрж┐ржЪрзНржЫрж┐ред рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ рж╕рж░рж╛рж╕рж░рж┐ ржХржкрж┐ ржХрж░рзЗ рждрзЛржорж╛рж░ ржирзЛржЯрзЗ рж░рзЗржЦрзЗ ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗред

---

# ЁЯУТ Real Mode Memory Addressing тАУ Notes

### ЁЯФ╣ What is Real Mode?

* Real Mode рж╣рж▓рзЛ Intel 8086/8088 ржПржмржВ 80286 (real mode) ржПрж░ ржПржХржЯрж┐ memory addressing systemред
* ржПржЦрж╛ржирзЗ ржкрзНрж░рж╕рзЗрж╕рж░ **рж╕рж░рзНржмрзЛржЪрзНржЪ 1 MB RAM** (1,048,576 bytes) ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ ржкрж╛рж░рзЗред
* Windows real mode ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржирж╛, ржХрж┐ржирзНрждрзБ DOS real mode ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред

---

### ЁЯФ╣ How Memory Address is Calculated?

* Memory address рждрзИрж░рж┐ рж╣ржпрж╝:

  
  Physical Address = (Segment ├Ч 16) + Offset
  
* Segment Register = 16 bit (ржпрзЗржоржи CS, DS, SS, ES)
* Offset = 16 bit
* ржорж┐рж▓рзЗ = 20-bit Physical Address (max 1MB)

---

### ЁЯФ╣ Why 1 MB Limit?

* 8086-ржПрж░ **20-bit address bus** ржЖржЫрзЗред
* 2^20 = 1,048,576 bytes = **1 MB memory limit**ред
* рждрж╛ржЗ, рж╢рзБрж░рзБ ржерзЗржХрзЗржЗ 8086 ржкрзНрж░рж╕рзЗрж╕рж░ ржХрзЗржмрж▓ 1MB ржкрж░рзНржпржирзНржд ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗред

---

### ЁЯФ╣ Real Life Example:

* рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐ тЖТ ржорзЗржорж░рж┐ (1MB)
* Shelf (Segment Register) тЖТ ржЖрж▓рж╛ржжрж╛ ржЕржВрж╢
* Book position (Offset) тЖТ рж╢рзЗрж▓ржлрзЗрж░ ржнрзЗрждрж░рзЗ ржмржЗрзЯрзЗрж░ рж╕рзНржерж╛ржи
  ЁЯСЙ Shelf + Book position ржорж┐рж▓рзЗ ржЖрж╕рж▓ ржмржЗрзЯрзЗрж░ ржЕржмрж╕рзНржерж╛ржи ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯред

---

### ЁЯФ╣ `Important Points:`

1. ржкрзНрж░ржержо 1 MB ржорзЗржорж░рж┐ржХрзЗ ржмрж▓рж╛ рж╣ржпрж╝: **Real Memory / Conventional Memory / DOS Memory**ред
2. Real mode **8086/8088** ржПржмржВ 80286 ржП ржмрзНржпржмрж╣рзГржд, ржПржмржВ ржЖржзрзБржирж┐ржХ ржкрзНрж░рж╕рзЗрж╕рж░ boot-ржПрж░ рж╢рзБрж░рзБрждрзЗ ржЕрж▓рзНржк рж╕ржоржпрж╝рзЗрж░ ржЬржирзНржп real mode-ржП ржерж╛ржХрзЗред
3. Protected Mode ржмрж╛ 64-bit Long Mode ржП ржЧрзЗрж▓рзЗ ржкрзБрж░рзЛ RAM (ржпрзЗржоржи 4GB, 8GB, 16GB тАж) ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛ ржпрж╛ржпрж╝ред

---

тЬЕ ржПржЗ ржирзЛржЯ рж░рж╛ржЦрж▓рзЗ рждрзЛржорж╛рж░ **real mode memory addressing** ржмрж┐рж╖ржпрж╝рзЗ рж╕ржм ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржкржпрж╝рзЗржирзНржЯ рж╣рж╛рждрзЗ ржерж╛ржХржмрзЗред

---

ржЪрж╛ржУ ржХрж┐ ржЖржорж┐ ржПрж░ рж╕рж╛ржерзЗ ржПржХржЯрж╛ **numerical example (Segment + Offset тЖТ Physical Address)** ржУ ржирзЛржЯрзЗ ржпрзЛржЧ ржХрж░рзЗ ржжрж┐ржЗ?

ржарж┐ржХ ржЖржЫрзЗ ЁЯСН ржЖржорж┐ ржкрзБрж░рзЛ ржмрж┐рж╖рзЯржЯрж╛ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ **ржирзЛржЯ ржЖржХрж╛рж░рзЗ рж╕рж╛ржЬрж┐рзЯрзЗ ржжрж┐рж▓рж╛ржо**, ржпрзЗржи рждрзБржорж┐ ржПржХрж╕рж╛ржерзЗ ржкрзЬрзЗ рж░рж╛ржЦрждрзЗ ржкрж╛рж░рзЛред

---

# ЁЯУШ Real Mode Memory Addressing (Segments and Offsets) тАУ Note

## 1. Segment and Offset Concept

* Real mode-ржП ржХрзЛржирзЛ ржорзЗржорж░рж┐ рж▓рзЛржХрзЗрж╢ржи ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рждрзЗ рж╣рзЯ:
  **Physical Address = (Segment Register ├Ч 10H) + Offset**

* **Segment Address** тЖТ 16-bit рж╕рзЗржЧржорзЗржирзНржЯ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ (CS, DS, SS, ES ржЗрждрзНржпрж╛ржжрж┐)ред

* **Offset Address** тЖТ рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржнрзЗрждрж░рзЗрж░ ржЕржмрж╕рзНржерж╛ржи (16-bit, ржпрзЗржоржи IP, SP, BP ржЗрждрзНржпрж╛ржжрж┐ ржерзЗржХрзЗ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗ)ред

---

## 2. Segment Address

* рж╕рзЗржЧржорзЗржирзНржЯ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░рзЗрж░ ржнрзЗрждрж░рзЗрж░ ржорж╛ржи ржЖрж╕рж▓рзЗ **рж╢рзБрж░рзБрж░ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕**ржХрзЗ ржмрзЛржЭрж╛рзЯ ржирж╛ рж╕рж░рж╛рж╕рж░рж┐ред
* ржмрж╛рж╕рзНрждржмрзЗ рж╕рзЗржЧржорзЗржирзНржЯ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░рзЗрж░ ржорж╛ржирзЗрж░ **ржбрж╛ржиржжрж┐ржХрзЗ ржПржХржЯрж┐ 0 (hex)** ржмрж╕рж╛ржирзЛ рж╣рзЯред

  * ржорж╛ржирзЗ, Segment ├Ч 10H ржХрж░рж╛ рж╣рзЯред
  * ржПржнрж╛ржмрзЗ 16-bit тЖТ 20-bit ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ рждрзИрж░рж┐ рж╣рзЯред

### ржЙржжрж╛рж╣рж░ржг:

* Segment = `1000H` тЖТ Start = `10000H`
* Segment = `1200H` тЖТ Start = `12000H`
* Segment = `1201H` тЖТ Start = `12010H`

---

## 3. Paragraph Concept

* ржпрзЗрж╣рзЗрждрзБ Segment ├Ч 10H ржХрж░рж╛ рж╣рзЯ, рждрж╛ржЗ рж╕ржм рж╕рзЗржЧржорзЗржирзНржЯ рж╢рзБрж░рзБ рж╣рзЯ **16-byte boundary** ржерзЗржХрзЗред
* ржПржЗ 16-byte boundary-ржХрзЗ ржмрж▓рж╛ рж╣рзЯ **Paragraph**ред

---

## 4. Segment Size

* ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржжрзИрж░рзНржШрзНржп рж╕рзНржерж┐рж░ржнрж╛ржмрзЗ **64 KB (FFFFH + 1)**ред
* рж╕рзБрждрж░рж╛ржВ ржпржжрж┐ рж╕рзЗржЧржорзЗржирзНржЯ рж╢рзБрж░рзБрж░ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ = `X`,
  рждрж╛рж╣рж▓рзЗ рж╢рзЗрж╖ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ = `X + FFFFH`ред

### ржЙржжрж╛рж╣рж░ржг:

* Segment Register = `3000H`

  * Start = `30000H`
  * End = `3FFFFH`

---

## 5. Offset Address

* Offset рж╣рж▓рзЛ рж╕рзЗржЧржорзЗржирзНржЯ рж╢рзБрж░рзБрж░ ржарж┐ржХрж╛ржирж╛рж░ **ржЙржкрж░ ржХрждржЯрж╛ ржжрзВрж░рждрзНржм**ред
* Final Physical Address ржмрзЗрж░ рж╣рзЯ:

  
  Physical Address = (Segment ├Ч 10H) + Offset
  

### ржЙржжрж╛рж╣рж░ржг:

* Segment = `1000H`, Offset = `F000H`

  
  Physical Address = 1000H ├Ч 10H + F000H
                   = 10000H + F000H
                   = 1F000H
  

---

## 6. Address Range in Real Mode

* 20-bit address bus тЖТ рж╕рж░рзНржмрзЛржЪрзНржЪ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ = `FFFFFH` (1 MB тАУ 1)ред
* рждрж╛ржЗ рж░рж┐ржпрж╝рзЗрж▓ ржорзЛржбрзЗ ржорзЛржЯ addressable memory = **1 MB**ред

---

## 7. Overlapping Segments

* Segment ├Ч 10H ржПрж░ ржХрж╛рж░ржгрзЗ рж╕рзЗржЧржорзЗржирзНржЯржЧрзБрж▓рзЛ overlap ржХрж░рждрзЗ ржкрж╛рж░рзЗред
* ржпрзЗржоржи:

  * Segment = 1000H тЖТ Start = 10000H
  * Segment = 1001H тЖТ Start = 10010H
    (ржжрзБржЯрзЛ рж╕рзЗржЧржорзЗржирзНржЯ ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ ржЖржВрж╢рж┐ржХ overlap ржХрж░ржмрзЗред)

---

## тЬи Final Summary

* **Physical Address = Segment ├Ч 10H + Offset**
* Segment тЖТ рж╕рж░рзНржмржжрж╛ 16-byte boundary (Paragraph) ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣рзЯред
* Segment length рж╕рж░рзНржмржжрж╛ 64 KBред
* Real Mode-ржП рж╕рж░рзНржмрзЛржЪрзНржЪ memory = 1 MB (20-bit addressing)ред
* Segments overlap ржХрж░рждрзЗ ржкрж╛рж░рзЗред

---

ЁЯСЙ ржПржЦржи ржмрж▓рзЛ, ржЖржорж┐ ржХрж┐ ржПржЗ ржирзЛржЯрзЗрж░ рж╕рж╛ржерзЗ **ржПржХржЯрж╛ ржЫрзЛржЯ ржЯрзЗржмрж┐рж▓** ржмрж╛ржирж┐рзЯрзЗ ржжрж┐ржЗ (Segment Register тЖТ Start Address тЖТ End Address тЖТ Example Offset тЖТ Final Address) ржпрж╛рждрзЗ рждрзБржорж┐ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ ржХрж░рждрзЗ ржкрж╛рж░рзЛ?
![alt text](image.png)
### рж░рж┐рзЯрзЗрж▓ ржорзЛржб ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ

**рж░рж┐рзЯрзЗрж▓ ржорзЛржб** рж╣рж▓рзЛ ржПржХржЯрж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ ржорзЛржб, ржпрзЗржЦрж╛ржирзЗ рж╕рзЗржЧржорзЗржирзНржЯ ржПржмржВ ржЕржлрж╕рзЗржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржлрж┐ржЬрж┐ржХрзНржпрж╛рж▓ ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржмрзЗрж░ ржХрж░рж╛ рж╣рзЯред ржПрж░ ржорзВрж▓ ржлрж░рзНржорзБрж▓рж╛:

### 1) **ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржмрзЗрж░ ржХрж░рж╛рж░ ржлрж░рзНржорзБрж▓рж╛**

ржлрж┐ржЬрж┐ржХрзНржпрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ = (рж╕рзЗржЧржорзЗржирзНржЯ ├Ч 16) + ржЕржлрж╕рзЗржЯ

ржПржЦрж╛ржирзЗ:

* **рж╕рзЗржЧржорзЗржирзНржЯ** рж╣рж▓рзЛ ржмрзЗрж╕ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ (Starting Point)ред
* **ржЕржлрж╕рзЗржЯ** рж╣рж▓рзЛ рж╕рзЗржЧржорзЗржирзНржЯ ржерзЗржХрзЗ ржХрждржЯрж╛ ржжрзВрж░рзЗ ржорзЗржорж░рж┐ ржЕржмрж╕рзНржерж╛ржи ржХрж░ржЫрзЗред

---

### 2) **ржЙржжрж╛рж╣рж░ржг:**

**ржЕржлрж╕рзЗржЯрзЗрж░ рж╕рж╛ржерзЗ рж╕рзЗржЧржорзЗржирзНржЯ ржпрзЛржЧ ржХрж░рзЗ ржлрж┐ржЬрж┐ржХрзНржпрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржХрж┐ржнрж╛ржмрзЗ ржмрзЗрж░ рж╣рзЯ**

#### ржЙржжрж╛рж╣рж░ржг рзз:

рж╕рзЗржЧржорзЗржирзНржЯ = 1000h
ржЕржлрж╕рзЗржЯ = 2000h
ржлрж┐ржЬрж┐ржХрзНржпрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕:

* `(1000h ├Ч 16) = 10000h`
* `10000h + 2000h = 12000h`

#### ржЙржжрж╛рж╣рж░ржг рзи:

рж╕рзЗржЧржорзЗржирзНржЯ = 2000h
ржЕржлрж╕рзЗржЯ = 0000h
ржлрж┐ржЬрж┐ржХрзНржпрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕:

* `(2000h ├Ч 16) = 20000h`
* `20000h + 0000h = 20000h`
  рж╢рзЗрж╖ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕: `20000h` ржерзЗржХрзЗ `2FFFFh`

#### ржЙржжрж╛рж╣рж░ржг рзй:

рж╕рзЗржЧржорзЗржирзНржЯ = 1234h
ржЕржлрж╕рзЗржЯ = FFFFh
ржлрж┐ржЬрж┐ржХрзНржпрж╛рж▓ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕:

* `(1234h ├Ч 16) = 12340h`
* `12340h + FFFFh = 2233Fh`

---

### 3) **A20 рж▓рж╛ржЗржи:**

**A20 рж▓рж╛ржЗржи** рж╣рж▓рзЛ ржПржХржЯрж┐ ржХржирзНржЯрзНрж░рзЛрж▓ рж╕рж┐ржЧржирзНржпрж╛рж▓ ржпрж╛ **1MB ржПрж░ ржЙржкрж░рзЗ ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕** ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

#### A20 ржЪрж╛рж▓рзБ ржерж╛ржХрж▓рзЗ:

* **A20 ржЪрж╛рж▓рзБ** ржерж╛ржХрж▓рзЗ **1MB ржПрж░ ржкрж░рзЗ** ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛ ржпрж╛рзЯ, ржЕрж░рзНржерж╛рзО, \*\*ржПржЯрж┐ **High Memory Area (HMA)** рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред
* ржПржЗ ржЕржмрж╕рзНржерж╛рзЯ рж╕рзЗржЧржорзЗржирзНржЯ `0xFFFF` ржПржмржВ ржЕржлрж╕рзЗржЯ `0x4000` рж╣рж▓рзЗ:

  * `(FFFFh ├Ч 16) + 4000h = 103FF0h`

#### A20 ржмржирзНржз ржерж╛ржХрж▓рзЗ:

* **A20 ржмржирзНржз** ржерж╛ржХрж▓рзЗ ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ **1MB ржПрж░ ржкрж░рзЗ рж░тАНрзНржпрж╛ржк-around** рж╣рзЯрзЗ ржЖржмрж╛рж░ рж╢рзБрж░рзБ рж╣рзЯред
* ржпржЦржи **A20 ржмржирзНржз ржерж╛ржХрзЗ**, рж╕рзЗржЧржорзЗржирзНржЯ ржПржмржВ ржЕржлрж╕рзЗржЯ ржпрзЛржЧ ржХрж░рж▓рзЗ **ржкрзБрж░рзЛ ржорзЗржорж░рж┐ 1MB ржПрж░ ржнрзЗрждрж░рзЗ** ржерж╛ржХржмрзЗред

---

### 4) **ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ржпрзЛржЧрзНржп ржорзЗржорж░рж┐ рж╕рзАржорж╛**

* рж░рж┐рзЯрзЗрж▓ ржорзЛржбрзЗ **1MB ржкрж░рзНржпржирзНржд ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛** ржпрж╛рзЯред
* рждржмрзЗ **A20 рж▓рж╛ржЗржи ржЪрж╛рж▓рзБ** ржерж╛ржХрж▓рзЗ 1MB ржПрж░ ржкрж░ **High Memory Area** ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛ рж╕ржорзНржнржм рж╣рзЯред

---

### 5) **ржоржирзЗ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп рж╢рж░рзНржЯржХрж╛ржЯ:**

* **ржлрж░рзНржорзБрж▓рж╛**:
  **Phys = Segment ├Ч 16 + Offset**

* **ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ рж╕рж╛ржЗржЬ**: **64KB** (0000h ржерзЗржХрзЗ FFFFh)

* **A20 ржЪрж╛рж▓рзБ ржерж╛ржХрж▓рзЗ**: **1MB ржПрж░ ржкрж░рзЗрж░ ржорзЗржорж░рж┐** ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржХрж░рж╛ рж╕ржорзНржнржмред

* **A20 ржмржирзНржз ржерж╛ржХрж▓рзЗ**: **1MB ржПрж░ ржкрж░рзЗ рж░тАНрзНржпрж╛ржк-ржЕрзНржпрж╛рж░рж╛ржЙржирзНржб** рж╣ржмрзЗ ржПржмржВ ржЖржмрж╛рж░ 0 ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣ржмрзЗред

---

ржПржЦржи, ржпржжрж┐ ржПржЗ рж╕ржм ржмрж┐рж╖рзЯржЧрзБрж▓рзЛ ржоржирзЗ рж░рж╛ржЦрзЛ, рждрж╛рж╣рж▓рзЗ рждрзБржорж┐ ржЦрзБржм рж╕рж╣ржЬрзЗржЗ ржорж╛ржЗржХрзНрж░рзЛржкрзНрж░рж╕рзЗрж╕рж░рзЗрж░ **рж░рж┐рзЯрзЗрж▓ ржорзЛржб ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ** ржмрзБржЭрждрзЗ ржкрж╛рж░ржмрзЗ! ЁЯШК

ржарж┐ржХ ржЖржЫрзЗ ЁЯСН ржЖржорж┐ рждрзЛржорж╛рж░ ржжрзЗржУрзЯрж╛ рж▓рзЗржЦрж╛ржЯрж╛ рж╕рж╣ржЬржнрж╛ржмрзЗ ржнрзЗржЩрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рзЗ ржжрж┐ржЪрзНржЫрж┐ред

---
# Default segment and offset registers 
---

## ЁЯФ╣ 1) ржорж╛ржЗржХрзНрж░рзЛржкрзНрж░рж╕рзЗрж╕рж░рзЗрж░ рж░рзБрж▓рж╕ (Segment Registers ржПрж░ ржмрзНржпржмрж╣рж╛рж░)

### 1. Code Segment (CS) ржПржмржВ Instruction Pointer (IP)

* **CS (Code Segment Register):** ржорзЗржорж░рж┐рж░ рж╕рзЗржЗ ржЕржВрж╢ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ ржпрзЗржЦрж╛ржирзЗ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорзЗрж░ ржХрзЛржб (instructions) рж░рж╛ржЦрж╛ ржЖржЫрзЗред
* **IP (Instruction Pointer):** CS рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржнрзЗрждрж░рзЗ ржХрзЛржи ржЬрж╛рзЯржЧрж╛рзЯ ржкрж░ржмрж░рзНрждрзА ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи ржЖржЫрзЗ рж╕рзЗржЯрж╛ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред

ЁЯСЙ рждрж╛ржЗ **CS\:IP = Next Instruction ржПрж░ ржарж┐ржХрж╛ржирж╛**
ржорж╛ржирзЗ, ржкрзНрж░рж╕рзЗрж╕рж░ рж╕ржмрж╕ржорзЯ CS (ржХрзЛржерж╛ ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣ржмрзЗ) ржЖрж░ IP (ржХрждржжрзВрж░рзЗ ржпрж╛ржмрзЗ) ржорж┐рж▓рж┐рзЯрзЗ ржХрзЛржб ржмрзЗрж░ ржХрж░рзЗ ржЖржирзЗред

**ржЙржжрж╛рж╣рж░ржг:**

CS = 2000H
IP = 0030H
Physical Address = (2000H ├Ч 10H) + 0030H
                 = 20000H + 0030H
                 = 20030H

ржПржЦрж╛ржи ржерзЗржХрзЗ CPU ржкрж░ржмрж░рзНрждрзА ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи ржирзЗржмрзЗред

---

### 2. Stack Segment (SS) ржПржмржВ Stack Pointer (SP/ESP/EBP)

* **SS (Stack Segment Register):** ржорзЗржорж░рж┐рж░ рж╕рзЗржЗ ржЕржВрж╢ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗ ржпрзЗржЦрж╛ржирзЗ рж╕рзНржЯрзНржпрж╛ржХ (Stack) рж░рж╛ржЦрж╛ ржЖржЫрзЗред
* **SP (Stack Pointer, 16-bit) / ESP (32-bit) / EBP (Base Pointer):** SS рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржнрзЗрждрж░рзЗ рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж▓рзЛржХрзЗрж╢ржи ржжрзЗржЦрж╛рзЯред

ЁЯСЙ рждрж╛ржЗ **SS\:SP / SS\:ESP / SS\:EBP = Stack Addressing Scheme**
ржорж╛ржирзЗ, рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ ржнрзЗрждрж░рзЗ ржХрзЛржи ржбрж╛ржЯрж╛ рж░рж╛ржЦрж╛/рждрзЛрж▓рж╛ рж╣ржмрзЗ рж╕рзЗржЯрж╛ ржПржЗ ржЬрзЛрзЬрж╛рж░ (pair) ржорж╛ржзрзНржпржорзЗ ржирж┐рж░рзНржзрж╛рж░ржг рж╣рзЯред

**ржЙржжрж╛рж╣рж░ржг:**

SS = 3000H
SP = 00F0H
Physical Address = (3000H ├Ч 10H) + 00F0H
                 = 30000H + 00F0H
                 = 300F0H

ржЕрж░рзНржерж╛рзО рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ ржбрж╛ржЯрж╛ 300F0H рж▓рзЛржХрзЗрж╢ржирзЗ ржЖржЫрзЗред

---

## тЬи рж╕рж╣ржЬ ржХрж░рзЗ ржмрж▓рж▓рзЗ:

1. **CS\:IP тЖТ ржкрзНрж░рзЛржЧрзНрж░рж╛ржо ржХрзЛржб ржХрзЛржерж╛рзЯ ржЖржЫрзЗ рж╕рзЗржЯрж╛ CPU ржЬрж╛ржирж╛рж░ ржЬржирзНржпред**

   * CS = рж╕рзЗржЧржорзЗржирзНржЯ рж╢рзБрж░рзБ
   * IP = ржЕржлрж╕рзЗржЯ (ржнрзЗрждрж░рзЗрж░ ржЕржмрж╕рзНржерж╛ржи)

2. **SS\:SP (ржмрж╛ SS\:ESP, SS\:EBP) тЖТ рж╕рзНржЯрзНржпрж╛ржХ ржорзЗржорж░рж┐рждрзЗ ржХрзЛржерж╛рзЯ ржбрж╛ржЯрж╛ рж░рж╛ржЦрж╛/рждрзЛрж▓рж╛ рж╣ржмрзЗ рж╕рзЗржЯрж╛ ржжрзЗржЦрж╛рзЯред**

---

ЁЯСЙ рждрзБржорж┐ ржХрж┐ ржЪрж╛ржУ ржЖржорж┐ ржПржЧрзБрж▓рзЛ **ржПржХржЯрж╛ ржЫрзЛржЯ ржЯрзЗржмрж┐рж▓рзЗ CS\:IP ржЖрж░ SS\:SP ржПрж░ ржЙржжрж╛рж╣рж░ржг рж╕рж╣** рж╕рж╛ржЬрж┐рзЯрзЗ ржжрж┐ржЗ, ржпрзЗржи ржкрзЬрж╛рж░ рж╕ржорзЯ ржПржХ ржиржЬрж░рзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯ?

ржПржЗ ржкрзГрж╖рзНржарж╛рзЯ ржорж╛ржЗржХрзНрж░рзЛржкрзНрж░рж╕рзЗрж╕рж░ ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВрзЯрзЗрж░ **рж╕рзЗржЧржорзЗржирзНржЯ** ржПржмржВ **ржЕржлрж╕рзЗржЯ** рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░рзЗрж░ ржХрж╛ржЬ ржирж┐рзЯрзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред ржПржЦрж╛ржирзЗ ржорж╛ржЗржХрзНрж░рзЛржкрзНрж░рж╕рзЗрж╕рж░рзЗрж░ **рж░рзБрж▓рж╕** ржПржмржВ **ржбрж┐ржлрж▓рзНржЯ рж╕рзЗржЧржорзЗржирзНржЯ ржУ ржЕржлрж╕рзЗржЯ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░** ржирж┐рзЯрзЗ ржХрж┐ржЫрзБ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рждржерзНржп ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ:

### 1) **ржорж╛ржЗржХрзНрж░рзЛржкрзНрж░рж╕рзЗрж╕рж░рзЗрж░ рж░рзБрж▓рж╕**

* **рж╕рзЗржЧржорзЗржирзНржЯ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░** рж╕рж╛ржзрж╛рж░ржгржд **CS (Code Segment)** ржмрж╛ **SS (Stack Segment)** рж╣рж┐рж╕рзЗржмрзЗ ржерж╛ржХрзЗ, ржпрзЗржЦрж╛ржирзЗ **CS\:IP** (ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи ржкрзЯрзЗржирзНржЯрж╛рж░) ржкрж░ржмрж░рзНрждрзА ржЗржирж╕рзНржЯрзНрж░рж╛ржХрж╢ржи ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред
* рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ рж╢рзБрж░рзБ ржЕржмрж╕рзНржерж╛ржиржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рж╛рж░ ржЬржирзНржп **CS\:IP** ржмрзНржпржмрж╣рзГржд рж╣рзЯред
* рж╕рзНржЯрзНржпрж╛ржХ (Stack) рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп **SS** ржПржмржВ **EBP** ржмрж╛ **ESP** ржмрзНржпржмрж╣рзГржд рж╣рзЯ, ржпрзЗржЦрж╛ржирзЗ **SS\:ESP** ржмрж╛ **SS\:EBP** ржПржЗ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ рж╕рзНржХрж┐ржо ржмрзНржпржмрж╣рзГржд рж╣рзЯред

### 2) **рж╕рзНржЯрзНржпрж╛ржХ рж╕рзЗржЧржорзЗржирзНржЯ**

* ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк, ржпржжрж┐ SS = 2000H ржПржмржВ SP = 3000H, рждрж╛рж╣рж▓рзЗ ржПржЯрж┐ **23000H** ржарж┐ржХрж╛ржирж╛рж░ ржжрж┐ржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ ржХрж░ржмрзЗред
* рж╕рзНржЯрзНржпрж╛ржХрзЗрж░ рж╕рзЗржЧржорзЗржирзНржЯрзЗ, ржпрзЗрж╣рзЗрждрзБ рж╢рзБржзрзБржорж╛рждрзНрж░ 16-ржмрж┐ржЯрзЗ рж╕рзАржорж╛ржмржжрзНржз, рждрж╛ржЗ 80386 ржПржмржВ Pentium 4 ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛рждрзЗ Extended Addressing ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯред

### 3) **ржЕржлрж╕рзЗржЯ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ**

* ржЙржжрж╛рж╣рж░ржг рж╣рж┐рж╕рзЗржмрзЗ, ржпржжрж┐ **SS = 2000H** ржПржмржВ **SP = 3000H**, рждрж╛рж╣рж▓рзЗ рж╕рж┐рж╕рзНржЯрзЗржо **23000H** ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рзЗ ржкрзМржБржЫрж╛ржмрзЗред
* 80386 ржерзЗржХрзЗ Pentium 4 ржкрж░рзНржпржирзНржд, Extended Addressing ржмрзНржпржмрж╕рзНржерж╛ ржмрзНржпржмрж╣рж╛рж░ рж╣рзЯ, ржпрзЗржЦрж╛ржирзЗ рж╕рж┐рж╕рзНржЯрзЗржо **16-ржмрж┐ржЯ рж╕рзАржорж╛ржмржжрзНржзрждрж╛** рж╕рж░рж┐рзЯрзЗ ржжрзЗрзЯред

### 4) **ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ ржЯрзЗржмрж┐рж▓ (ржЯрзЗржмрж┐рж▓ рзи-рзй)**

* 80386 ржПржмржВ 80286 ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛ржЧрзБрж▓рж┐рж░ ржЬржирзНржп рж╕рзЗржЧржорзЗржирзНржЯ ржПржмржВ ржЕржлрж╕рзЗржЯ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ рж░рзБрж▓рж╕рзЗрж░ ржмрж░рзНржгржирж╛ ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗред
* 80386 ржПржмржВ Pentium ржкрзНрж░ржХрзНрж░рж┐рзЯрж╛рзЯ ржЖрж░ржУ рж╕рзЗржЧржорзЗржирзНржЯ ржПржмржВ ржЕржлрж╕рзЗржЯ ржмрзНржпржмрж╣рзГржд рж╣рждрзЗ ржкрж╛рж░рзЗ ржпрж╛ 8086 ржПржмржВ 80286 ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛ред

### 5) **ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж▓рзЛржбрж┐ржВ**

* ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржпржЦржи рж▓рзЛржб рж╣рзЯ, рждржЦржи **1000H** рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ ржПржмржВ ржХрзЛржб рж▓рзЛржб ржХрж░рж╛ рж╣рзЯред рж╕рж┐рж╕рзНржЯрзЗржо **190H ржмрж╛ржЗржЯ** ржмрзНржпржмрж╣рзГржд ржХрж░рзЗред

ржПржЗ ржкрзГрж╖рзНржарж╛рзЯ ржбрж┐ржлрж▓рзНржЯ рж╕рзЗржЧржорзЗржирзНржЯ ржПржмржВ ржЕржлрж╕рзЗржЯ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ржЧрзБрж▓рж┐рж░ ржорзВрж▓ ржХрж╛ржЬ ржПржмржВ рждрж╛ржжрзЗрж░ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЙржжрж╛рж╣рж░ржг ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ, ржпрж╛рждрзЗ ржорзЗржорж░рж┐ ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕рж┐ржВ рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрзЛржЭрж╛ ржпрж╛рзЯред

![alt text](image-1.png)
![alt text](image-2.png)
![alt text](image-3.png)